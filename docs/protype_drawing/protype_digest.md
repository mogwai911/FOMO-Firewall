---

## Digest 原型：页面目标

把线索变成“可决策处置”，而不是阅读；用户对每条线索做 **FYI / DO / DROP**，只有 **DO** 才进入 Session。

---

## 1) 页面布局（从上到下）

### A. 顶部栏 Top Bar

* 标题：`今日处置`（可显示日期）
* 右侧：`刷新`（可选）/ `生成日报`（MVP 可隐藏，后台定时即可）
  -（可选）一个小指标：`待处置 X`（今天线索数）

### B. 筛选/视图控制 Filter Bar（轻量）

* 分段按钮（默认 `待处置`）：

  * `待处置`（未被用户明确处理的）
  * `已处理`（FYI/DO/DROP 已选过）
    -（可选）只看 DO：`只看 DO` toggle（方便高强度用户）
* 排序（可选）：`推荐优先` / `时间`

> MVP 你可以只做：`待处置 / 已处理` 两个 tab。

### C. 线索列表 Signal List（主区域）

列表每行是一个 **Signal Card**（见下），支持：

* 列表滚动
* 点击卡片展开“处置详情”（建议右侧抽屉或卡片内展开，别跳转路由）

---

## 2) Signal Card（线索卡）结构

### 2.1 折叠态（默认）

**信息区**

* 第一行：`标题`（1–2 行截断）
* 第二行：`来源名 · 发布时间`（灰字）
* 第三行：`摘要/description`（1 行截断，可没有）

**处置区（核心）**

* 左侧：一个标签位（小 pill）

  * triage 未生成：显示 `… 生成建议中`
  * triage 已生成：显示 `建议 FYI/DO/DROP`
* 右侧：三个一键按钮（最核心）

  * `FYI`（看看就行）
  * `DO`（需要展开）
  * `DROP`（忽略）

> 交互原则：**点一次即生效**，不弹确认。

**展开入口**

* 一个小链接：`查看理由`（或 chevron）
* 一个小链接：`打开原文`（新开 tab）

---

### 2.2 展开态（处置详情）

展开后出现 **Triage Panel（处置卡详情）**，内容按“结论—理由—证据—下一步”固定顺序：

1. **一句话结论 headline**（必须）

* 例：`建议 FYI：这是转载快讯，没有新增细节，了解即可。`

2. **理由 reasons（≤3）**
   每条理由格式统一：

* `【来源】官方/转载/个人观点…`
* `【可验证性】是否给出 repo/数据/版本号`
* `【信息密度】是否包含新增参数/数字/变更点`
  （每条 1 句，避免长）

3. **证据片段 snippets（≤2）**

* 用引用块样式展示 1–2 段短摘录（<=200字）
* 每段标注来源：`来自 RSS 摘要` / `来自抓取正文`（MVP 可先只有 RSS 摘要）

4. **下一步提示 next_action_hint（轻提示即可）**

* 若建议 DO：`建议：进入学习对话，生成问题卡快速搞清楚。`
* 若建议 FYI：`建议：不展开学习，可收藏到稍后看。`
* 若建议 DROP：`建议：直接清理，降低负担。`

5. **动作区（重复一键按钮）**

* FYI / DO / DROP（保持可见，方便用户在读完理由后再改判）

---

## 3) 交互规则（最重要的“怎么点”）

### 3.1 处置按钮行为（FYI / DO / DROP）

点任意按钮 → 立即：

* 更新该卡片的“用户选择标签”（UI 要显眼，比如高亮）
* 写入 EventLog（accepted/overridden 都算）
* 若用户点的是 DO：

  * 按钮旁出现主 CTA：`进入学习会话`
  * 或者直接点击 DO 后自动打开 Session（两种都行；我建议 **出现 CTA** 更可控）

### 3.2 “建议标签”和“用户标签”如何同时呈现（避免困惑）

在卡片上同时显示两件事：

* `建议：DO`（小字/浅色）
* `你已选：FYI`（高亮/主色）
  这样用户一眼知道“我是否改判了”。

### 3.3 triage 生成时机（避免等待）

建议策略（MVP）：

* 打开 Digest 页时，对列表前 N 条 **预生成 triage**（异步）
* 未生成的卡显示 `生成建议中…`
* 用户也可以不等建议，直接点 FYI/DO/DROP（用户决策优先）

### 3.4 展开/收起

* 点击 `查看理由` 展开详情（不跳路由）
* 再点一次收起
* 展开时写 EventLog：`OPEN_EVIDENCE`

---

## 4) 状态机（你画原型时用来保证不漏状态）

对每条 Signal Card，有四个关键状态维度：

### 4.1 triage 状态

* `triage: none`（未生成）
* `triage: ready`（已有建议）

### 4.2 用户处置状态

* `disposition: unset`（待处置）
* `disposition: FYI | DO | DROP`（已处理）

### 4.3 展开状态

* `expanded: true/false`

### 4.4 会话状态（仅 DO 相关提示）

* `session: none`（还没进入过）
* `session: exists (paused/active)`（已经有会话，可显示“继续学习”）

> 原型里至少体现：`triage未生成`、`triage已生成`、`用户改判`、`DO后可进入/继续会话` 四种情况。

---

## 5) 页面级空状态/异常态（MVP 必备）

* 无订阅源：显示引导 `去添加 RSS 源`
* 日报为空：显示 `今天没有新的线索`
* triage 生成失败：卡片显示 `建议生成失败` + 仍可手动 FYI/DO/DROP（不阻塞）

---

## 6) Digest 页你需要画的 3 张关键原型帧

1. **列表折叠态**（triage 部分已生成、部分未生成）
2. **某条展开态**（显示 headline/reasons/snippets/下一步）
3. **用户已选 DO**（出现“进入学习会话 / 继续学习”CTA）

---

如果你愿意，我下一步可以把 **“Signal Card 的文案模板”**也补出来（比如 headline/reasons 的固定句式），这样你画出来会更像真实产品，而且 Codex 做 UI 也更不容易走偏。
